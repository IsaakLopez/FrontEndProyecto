<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>FrontEndTiendaOnline</title>
    <link href="~/favicon.ico" rel="shortcut icon" type="image/x-icon" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">

    @* Uncomment to use the HtmlEditor control *@
    @* <script src="https://unpkg.com/devextreme-quill@24_1/dist/dx-quill.min.js"></script> *@

    @Styles.Render("~/Content/bundle")
    @Styles.Render("~/Content/DevExtremeBundle")
    @Scripts.Render("~/Scripts/bundle")
    @Scripts.Render("~/Scripts/DevExtremeBundle")
    <style>
        .lavalamp-menu {
            position: relative;
        }

            .lavalamp-menu .nav-link {
                position: relative;
                z-index: 1;
                transition: color 0.3s ease;
            }

        .lavalamp-highlight {
            content: "";
            width: 0;
            height: 40px;
            background: rgba(255, 255, 255, 0.2); /* Color lavalamp, puedes personalizar */
            border-radius: 8px;
            top: 50%;
            transform: translateY(-50%);
            transition: all 0.3s ease;
            z-index: 0;
            pointer-events: none;
        }
    </style>
</head>

<body class="dx-theme-fluent-dark" style="padding-top: 3.5rem; background-image: url('/Content/img/img_3.jpg'); background-size: cover; background-repeat: no-repeat; background-position: center;">

    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top shadow">
        <div class="container-fluid">
            <a class="navbar-brand d-flex align-items-center" href="/">
                <i class="bi bi-shop me-2"></i> FrontEndTiendaOnline
            </a>

            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent"
                    aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0 lavalamp-menu position-relative">
                    <span class="lavalamp-highlight position-absolute"></span>

                    <li class="nav-item">
                        <a class="nav-link nav-link d-flex flex-column align-items-center @(ViewContext.RouteData.Values["action"].ToString() == "#" ? "active" : "")" href="#"><i class="bi bi-house-door me-1"></i>Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link nav-link d-flex flex-column align-items-center @(ViewContext.RouteData.Values["action"].ToString() == "Clientes" ? "active" : "")" href="@Url.Action("Clientes", "Home")"><i class="bi bi-people me-1"></i>Clientes</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link nav-link d-flex flex-column align-items-center @(ViewContext.RouteData.Values["action"].ToString() == "Productos" ? "active" : "")" href="@Url.Action("Productos", "Home")"><i class="bi bi-box-seam me-1"></i>Productos</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link nav-link d-flex flex-column align-items-center @(ViewContext.RouteData.Values["action"].ToString() == "Administrador" ? "active" : "")" href="@Url.Action("Administrador", "Home")"><i class="bi bi-person-gear me-1"></i>Administrador</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link nav-link d-flex flex-column align-items-center @(ViewContext.RouteData.Values["action"].ToString() == "Devoluciones" ? "active" : "")" href="@Url.Action("Devoluciones", "Home")"><i class="bi bi-arrow-counterclockwise me-1"></i>Devoluciones</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link nav-link d-flex flex-column align-items-center @(ViewContext.RouteData.Values["action"].ToString() == "Envio" ? "active" : "")" href="@Url.Action("Envio", "Home")"><i class="bi bi-truck me-1"></i>Envio</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link nav-link d-flex flex-column align-items-center @(ViewContext.RouteData.Values["action"].ToString() == "Inventario" ? "active" : "")" href="@Url.Action("Inventario", "Home")"><i class="bi bi-clipboard-data me-1"></i>Inventario</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link nav-link d-flex flex-column align-items-center @(ViewContext.RouteData.Values["action"].ToString() == "MetodoPago" ? "active" : "")" href="@Url.Action("MetodoPago", "Home")"><i class="bi bi-credit-card me-1"></i>Metodo de Pago</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link nav-link d-flex flex-column align-items-center @(ViewContext.RouteData.Values["action"].ToString() == "Pago" ? "active" : "")" href="@Url.Action("Pago", "Home")"><i class="bi bi-wallet2 me-1"></i>Pago</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link nav-link d-flex flex-column align-items-center @(ViewContext.RouteData.Values["action"].ToString() == "Pedido" ? "active" : "")" href="@Url.Action("Pedido", "Home")"><i class="bi bi-cart-check me-1"></i>Pedido</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link nav-link d-flex flex-column align-items-center @(ViewContext.RouteData.Values["action"].ToString() == "Proveedor" ? "active" : "")" href="@Url.Action("Proveedor", "Home")"><i class="bi bi-truck-front me-1"></i>Proveedor</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link nav-link d-flex flex-column align-items-center" href="#about"><i class="bi bi-info-circle me-1"></i>About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link nav-link d-flex flex-column align-items-center" href="#contact"><i class="bi bi-envelope me-1"></i>Contact</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <main class="container" style="margin-top: 1.5rem;">
        @RenderBody()
    </main>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const menu = document.querySelector(".lavalamp-menu");
            const highlight = menu.querySelector(".lavalamp-highlight");
            const links = menu.querySelectorAll(".nav-link");

            let currentLink = menu.querySelector(".nav-link.active") || links[0];

            const setHighlightPosition = (link) => {
                const rect = link.getBoundingClientRect();
                const menuRect = menu.getBoundingClientRect();
                highlight.style.width = `${rect.width}px`;
                highlight.style.left = `${rect.left - menuRect.left}px`;
            };

            // Posicionar al enlace activo inicial
            setHighlightPosition(currentLink);

            // Al pasar el mouse, mueve el highlight
            links.forEach(link => {
                link.addEventListener("mouseenter", () => {
                    setHighlightPosition(link);
                });

                link.addEventListener("mouseleave", () => {
                    setHighlightPosition(currentLink);
                });

                link.addEventListener("click", (e) => {
                    // Si usas SPA (sin recarga), evitar el salto:
                    // e.preventDefault();

                    // Quita la clase 'active' a todos
                    links.forEach(l => l.classList.remove("active"));

                    // Marca el clic actual como activo
                    link.classList.add("active");

                    // Guarda el nuevo enlace como actual
                    currentLink = link;

                    // Mueve el resaltador a este
                    setHighlightPosition(currentLink);
                });
            });
        });
    </script>
</body>

</html>